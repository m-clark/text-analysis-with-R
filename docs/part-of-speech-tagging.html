<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>An Introduction to Text Processing and Analysis with R</title>
  <meta name="description" content="This document covers a wide range of topics, including how to process text generally, and demonstrations of sentiment analysis, parts-of-speech tagging, word embeddings, and topic modeling. Exercises are provided for some topics.">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="An Introduction to Text Processing and Analysis with R" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://m-clark.github.io/text-analysis-with-R/" />
  <meta property="og:image" content="https://m-clark.github.io/text-analysis-with-R/img/nineteeneightyR.png" />
  <meta property="og:description" content="This document covers a wide range of topics, including how to process text generally, and demonstrations of sentiment analysis, parts-of-speech tagging, word embeddings, and topic modeling. Exercises are provided for some topics." />
  <meta name="github-repo" content="m-clark/text-analysis-with-R/" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="An Introduction to Text Processing and Analysis with R" />
  
  <meta name="twitter:description" content="This document covers a wide range of topics, including how to process text generally, and demonstrations of sentiment analysis, parts-of-speech tagging, word embeddings, and topic modeling. Exercises are provided for some topics." />
  <meta name="twitter:image" content="https://m-clark.github.io/text-analysis-with-R/img/nineteeneightyR.png" />



<meta name="date" content="2018-09-09">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  <link rel="shortcut icon" href="img/R.ico" type="image/x-icon">
<link rel="prev" href="sentiment-analysis.html">
<link rel="next" href="topic-modeling.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<script src="libs/htmlwidgets-1.2/htmlwidgets.js"></script>
<script src="libs/datatables-binding-0.4/datatables.js"></script>
<link href="libs/dt-core-1.10.16/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.16/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.16/js/jquery.dataTables.min.js"></script>
<script src="libs/plotly-binding-4.8.0/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.0.0/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-1.39.2/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-1.39.2/plotly-latest.min.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<link href="libs/plotlyjs-1.29.2/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotlyjs-1.29.2/plotly-latest.min.js"></script>
<script src="libs/d3-3.5.3/./d3.min.js"></script>
<link href="libs/d3heatmapcore-0.0.0/heatmapcore.css" rel="stylesheet" />
<script src="libs/d3heatmapcore-0.0.0/heatmapcore.js"></script>
<script src="libs/d3-tip-0.6.6/index.js"></script>
<script src="libs/d3heatmap-binding-0.6.1.1/d3heatmap.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="css/book.css" type="text/css" />
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class='before'><a href="./">Text Analysis in R</a></li>

<li class="divider"></li>
<li><a href="index.html#section"></a></li>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i>Introduction</a><ul>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html#overview"><i class="fa fa-check"></i>Overview</a><ul>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html#goals"><i class="fa fa-check"></i>Goals</a></li>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html#prerequisites"><i class="fa fa-check"></i>Prerequisites</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html#initial-steps"><i class="fa fa-check"></i>Initial Steps</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="string-theory.html"><a href="string-theory.html"><i class="fa fa-check"></i>String Theory</a><ul>
<li class="chapter" data-level="" data-path="string-theory.html"><a href="string-theory.html#basic-data-types"><i class="fa fa-check"></i>Basic data types</a><ul>
<li class="chapter" data-level="" data-path="string-theory.html"><a href="string-theory.html#character-strings"><i class="fa fa-check"></i>Character strings</a></li>
<li class="chapter" data-level="" data-path="string-theory.html"><a href="string-theory.html#factors"><i class="fa fa-check"></i>Factors</a></li>
<li class="chapter" data-level="" data-path="string-theory.html"><a href="string-theory.html#analysis"><i class="fa fa-check"></i>Analysis</a></li>
<li class="chapter" data-level="" data-path="string-theory.html"><a href="string-theory.html#characters-vs.factors"><i class="fa fa-check"></i>Characters vs. Factors</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="string-theory.html"><a href="string-theory.html#basic-text-functionality"><i class="fa fa-check"></i>Basic Text Functionality</a><ul>
<li class="chapter" data-level="" data-path="string-theory.html"><a href="string-theory.html#base-r"><i class="fa fa-check"></i>Base R</a></li>
<li class="chapter" data-level="" data-path="string-theory.html"><a href="string-theory.html#useful-packages"><i class="fa fa-check"></i>Useful packages</a></li>
<li class="chapter" data-level="" data-path="string-theory.html"><a href="string-theory.html#other"><i class="fa fa-check"></i>Other</a></li>
<li class="chapter" data-level="" data-path="string-theory.html"><a href="string-theory.html#summary-of-basic-text-functionality"><i class="fa fa-check"></i>Summary of basic text functionality</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="string-theory.html"><a href="string-theory.html#regular-expressions"><i class="fa fa-check"></i>Regular Expressions</a><ul>
<li class="chapter" data-level="" data-path="string-theory.html"><a href="string-theory.html#typical-uses"><i class="fa fa-check"></i>Typical Uses</a></li>
<li class="chapter" data-level="" data-path="string-theory.html"><a href="string-theory.html#dplyr-helper-functions"><i class="fa fa-check"></i>dplyr helper functions</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="string-theory.html"><a href="string-theory.html#text-processing-examples"><i class="fa fa-check"></i>Text Processing Examples</a><ul>
<li class="chapter" data-level="" data-path="string-theory.html"><a href="string-theory.html#example-1"><i class="fa fa-check"></i>Example 1</a></li>
<li class="chapter" data-level="" data-path="string-theory.html"><a href="string-theory.html#example-2"><i class="fa fa-check"></i>Example 2</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="string-theory.html"><a href="string-theory.html#exercises"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="sentiment-analysis.html"><a href="sentiment-analysis.html"><i class="fa fa-check"></i>Sentiment Analysis</a><ul>
<li class="chapter" data-level="" data-path="sentiment-analysis.html"><a href="sentiment-analysis.html#basic-idea"><i class="fa fa-check"></i>Basic idea</a></li>
<li class="chapter" data-level="" data-path="sentiment-analysis.html"><a href="sentiment-analysis.html#issues"><i class="fa fa-check"></i>Issues</a><ul>
<li class="chapter" data-level="" data-path="sentiment-analysis.html"><a href="sentiment-analysis.html#context-sarcasm-etc."><i class="fa fa-check"></i>Context, sarcasm, etc.</a></li>
<li class="chapter" data-level="" data-path="sentiment-analysis.html"><a href="sentiment-analysis.html#lexicons"><i class="fa fa-check"></i>Lexicons</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="sentiment-analysis.html"><a href="sentiment-analysis.html#sentiment-analysis-examples"><i class="fa fa-check"></i>Sentiment Analysis Examples</a><ul>
<li class="chapter" data-level="" data-path="sentiment-analysis.html"><a href="sentiment-analysis.html#the-first-thing-the-baby-did-wrong"><i class="fa fa-check"></i>The first thing the baby did wrong</a></li>
<li class="chapter" data-level="" data-path="sentiment-analysis.html"><a href="sentiment-analysis.html#romeo-juliet"><i class="fa fa-check"></i>Romeo &amp; Juliet</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="sentiment-analysis.html"><a href="sentiment-analysis.html#sentiment-analysis-summary"><i class="fa fa-check"></i>Sentiment Analysis Summary</a></li>
<li class="chapter" data-level="" data-path="sentiment-analysis.html"><a href="sentiment-analysis.html#exercise"><i class="fa fa-check"></i>Exercise</a><ul>
<li class="chapter" data-level="" data-path="sentiment-analysis.html"><a href="sentiment-analysis.html#step-0-install-the-packages"><i class="fa fa-check"></i>Step 0: Install the packages</a></li>
<li class="chapter" data-level="" data-path="sentiment-analysis.html"><a href="sentiment-analysis.html#step-1-initial-inspection"><i class="fa fa-check"></i>Step 1: Initial inspection</a></li>
<li class="chapter" data-level="" data-path="sentiment-analysis.html"><a href="sentiment-analysis.html#step-2-data-prep"><i class="fa fa-check"></i>Step 2: Data prep</a></li>
<li class="chapter" data-level="" data-path="sentiment-analysis.html"><a href="sentiment-analysis.html#step-3-get-sentiment"><i class="fa fa-check"></i>Step 3: Get sentiment</a></li>
<li class="chapter" data-level="" data-path="sentiment-analysis.html"><a href="sentiment-analysis.html#step-4-visualize"><i class="fa fa-check"></i>Step 4: Visualize</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="part-of-speech-tagging.html"><a href="part-of-speech-tagging.html"><i class="fa fa-check"></i>Part of Speech Tagging</a><ul>
<li class="chapter" data-level="" data-path="part-of-speech-tagging.html"><a href="part-of-speech-tagging.html#basic-idea-1"><i class="fa fa-check"></i>Basic idea</a></li>
<li class="chapter" data-level="" data-path="part-of-speech-tagging.html"><a href="part-of-speech-tagging.html#pos-examples"><i class="fa fa-check"></i>POS Examples</a><ul>
<li class="chapter" data-level="" data-path="part-of-speech-tagging.html"><a href="part-of-speech-tagging.html#barthelme-carver"><i class="fa fa-check"></i>Barthelme &amp; Carver</a></li>
<li class="chapter" data-level="" data-path="part-of-speech-tagging.html"><a href="part-of-speech-tagging.html#more-taggin"><i class="fa fa-check"></i>More taggin’</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="part-of-speech-tagging.html"><a href="part-of-speech-tagging.html#tagging-summary"><i class="fa fa-check"></i>Tagging summary</a></li>
<li class="chapter" data-level="" data-path="part-of-speech-tagging.html"><a href="part-of-speech-tagging.html#pos-exercise"><i class="fa fa-check"></i>POS Exercise</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="topic-modeling.html"><a href="topic-modeling.html"><i class="fa fa-check"></i>Topic modeling</a><ul>
<li class="chapter" data-level="" data-path="topic-modeling.html"><a href="topic-modeling.html#basic-idea-2"><i class="fa fa-check"></i>Basic idea</a></li>
<li class="chapter" data-level="" data-path="topic-modeling.html"><a href="topic-modeling.html#steps"><i class="fa fa-check"></i>Steps</a></li>
<li class="chapter" data-level="" data-path="topic-modeling.html"><a href="topic-modeling.html#topic-model-example"><i class="fa fa-check"></i>Topic Model Example</a><ul>
<li class="chapter" data-level="" data-path="topic-modeling.html"><a href="topic-modeling.html#shakespeare"><i class="fa fa-check"></i>Shakespeare</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="topic-modeling.html"><a href="topic-modeling.html#extensions"><i class="fa fa-check"></i>Extensions</a></li>
<li class="chapter" data-level="" data-path="topic-modeling.html"><a href="topic-modeling.html#topic-model-exercise"><i class="fa fa-check"></i>Topic Model Exercise</a><ul>
<li class="chapter" data-level="" data-path="topic-modeling.html"><a href="topic-modeling.html#movie-reviews"><i class="fa fa-check"></i>Movie reviews</a></li>
<li class="chapter" data-level="" data-path="topic-modeling.html"><a href="topic-modeling.html#associated-press-articles"><i class="fa fa-check"></i>Associated Press articles</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="word-embeddings.html"><a href="word-embeddings.html"><i class="fa fa-check"></i>Word Embeddings</a><ul>
<li class="chapter" data-level="" data-path="word-embeddings.html"><a href="word-embeddings.html#shakespeare-example"><i class="fa fa-check"></i>Shakespeare example</a></li>
<li class="chapter" data-level="" data-path="word-embeddings.html"><a href="word-embeddings.html#wikipedia"><i class="fa fa-check"></i>Wikipedia</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="summary.html"><a href="summary.html"><i class="fa fa-check"></i>Summary</a></li>
<li class="chapter" data-level="" data-path="shakespeare.html"><a href="shakespeare.html"><i class="fa fa-check"></i>Shakespeare Start to Finish</a><ul>
<li class="chapter" data-level="" data-path="shakespeare.html"><a href="shakespeare.html#act-i.-scrape-mit-and-gutenberg-shakespeare"><i class="fa fa-check"></i>ACT I. Scrape MIT and Gutenberg Shakespeare</a><ul>
<li class="chapter" data-level="" data-path="shakespeare.html"><a href="shakespeare.html#scene-i.-scrape-main-works"><i class="fa fa-check"></i>Scene I. Scrape main works</a></li>
<li class="chapter" data-level="" data-path="shakespeare.html"><a href="shakespeare.html#scene-ii.-sonnets"><i class="fa fa-check"></i>Scene II. Sonnets</a></li>
<li class="chapter" data-level="" data-path="shakespeare.html"><a href="shakespeare.html#scene-iii.-save-and-write-out"><i class="fa fa-check"></i>Scene III. Save and write out</a></li>
<li class="chapter" data-level="" data-path="shakespeare.html"><a href="shakespeare.html#scene-iv.-read-text-from-files"><i class="fa fa-check"></i>Scene IV. Read text from files</a></li>
<li class="chapter" data-level="" data-path="shakespeare.html"><a href="shakespeare.html#scene-v.-add-additional-works"><i class="fa fa-check"></i>Scene V. Add additional works</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="shakespeare.html"><a href="shakespeare.html#act-ii.-preliminary-cleaning"><i class="fa fa-check"></i>ACT II. Preliminary Cleaning</a><ul>
<li class="chapter" data-level="" data-path="shakespeare.html"><a href="shakespeare.html#scene-i.-remove-initial-textmetadata"><i class="fa fa-check"></i>Scene I. Remove initial text/metadata</a></li>
<li class="chapter" data-level="" data-path="shakespeare.html"><a href="shakespeare.html#scene-ii.-miscellaneous-removal"><i class="fa fa-check"></i>Scene II. Miscellaneous removal</a></li>
<li class="chapter" data-level="" data-path="shakespeare.html"><a href="shakespeare.html#scene-iii.-classification-of-works"><i class="fa fa-check"></i>Scene III. Classification of works</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="shakespeare.html"><a href="shakespeare.html#act-iii.-stop-words"><i class="fa fa-check"></i>ACT III. Stop words</a><ul>
<li class="chapter" data-level="" data-path="shakespeare.html"><a href="shakespeare.html#scene-i.-character-names"><i class="fa fa-check"></i>Scene I. Character names</a></li>
<li class="chapter" data-level="" data-path="shakespeare.html"><a href="shakespeare.html#scene-ii.-old-middle-modern-english"><i class="fa fa-check"></i>Scene II. Old, Middle, &amp; Modern English</a></li>
<li class="chapter" data-level="" data-path="shakespeare.html"><a href="shakespeare.html#scene-iii.-remove-stopwords"><i class="fa fa-check"></i>Scene III. Remove stopwords</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="shakespeare.html"><a href="shakespeare.html#act-iv.-other-fixes"><i class="fa fa-check"></i>ACT IV. Other fixes</a></li>
<li class="chapter" data-level="" data-path="shakespeare.html"><a href="shakespeare.html#act-v.-fun-stuff"><i class="fa fa-check"></i>ACT V. Fun stuff</a><ul>
<li class="chapter" data-level="" data-path="shakespeare.html"><a href="shakespeare.html#scene-i.-count-the-terms"><i class="fa fa-check"></i>Scene I. Count the terms</a></li>
<li class="chapter" data-level="" data-path="shakespeare.html"><a href="shakespeare.html#scene-ii.-stemming"><i class="fa fa-check"></i>Scene II. Stemming</a></li>
<li class="chapter" data-level="" data-path="shakespeare.html"><a href="shakespeare.html#scene-iii.-exploration"><i class="fa fa-check"></i>Scene III. Exploration</a></li>
<li class="chapter" data-level="" data-path="shakespeare.html"><a href="shakespeare.html#scene-iv.-topic-model"><i class="fa fa-check"></i>Scene IV. Topic model</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html"><i class="fa fa-check"></i>Appendix</a><ul>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#texts"><i class="fa fa-check"></i>Texts</a><ul>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#donald-barthelme"><i class="fa fa-check"></i>Donald Barthelme</a></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#raymond-carver"><i class="fa fa-check"></i>Raymond Carver</a></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#billy-dee-shakespeare"><i class="fa fa-check"></i>Billy Dee Shakespeare</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#r"><i class="fa fa-check"></i>R</a></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#python"><i class="fa fa-check"></i>Python</a></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#a-faster-lda"><i class="fa fa-check"></i>A Faster LDA</a></li>
</ul></li>
<li class="divider"></li>
<li class='after'">
   <a href="https://m-clark.github.io/">
      <img src="img/mc_logo.png" style="width:25%; padding:0px 0; display:block; margin: 0 auto;" alt="MC logo">
   </a>
</li>
<li class='after'">
   <div style='text-align:center'>
      <a href="https://github.com/m-clark/">
         <i class="fab fa-github fa-2x" aria-hidden="true"></i>
      </a>
   </div>
</li>
<li class='after'">
   <div style='text-align:center'>
      <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">
         <i class="fab fa-creative-commons fa-lg"></i>
         <i class="fab fa-creative-commons-by fa-lg"></i>
         <i class="fab fa-creative-commons-sa fa-lg"></i>
      </a>
   </div>
</li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">An Introduction to Text Processing and Analysis with R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="part-of-speech-tagging" class="section level1">
<h1>Part of Speech Tagging</h1>
<p>As an initial review of parts of speech, if you need a refresher, the following Schoolhouse Rocks videos should get you squared away:</p>
<ul>
<li><a href="https://youtu.be/h0m89e9oZko">A noun is a person, place, or thing.</a></li>
<li><a href="https://youtu.be/YkAX7Vk3JEw">Interjections</a></li>
<li><a href="https://youtu.be/Eu1ciVFbecw">Pronouns</a></li>
<li><a href="https://youtu.be/US8mGU1MzYw">Verbs</a></li>
<li><a href="https://youtu.be/NkuuZEey_bs">Unpack your adjectives</a></li>
<li><a href="https://youtu.be/14fXm4FOMPM">Lolly Lolly Lolly Get Your Adverbs Here</a></li>
<li><a href="https://youtu.be/RPoBE-E8VOc">Conjunction Junction</a> (personal fave)</li>
</ul>
<p>Aside from those, you can also learn how bills get passed, about being a victim of gravity, a comparison of the decimal to other numeric systems used by alien species (I recommend the Chavez remix), and a host of other useful things.</p>
<div id="basic-idea-1" class="section level2">
<h2>Basic idea</h2>
<p>With <span class="emph">part-of-speech</span> tagging, we classify a word with its corresponding part of speech. The following provides an example.</p>
<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<tbody>
<tr>
<td style="text-align:left;">
JJ
</td>
<td style="text-align:left;">
JJ
</td>
<td style="text-align:left;">
NNS
</td>
<td style="text-align:left;">
VBP
</td>
<td style="text-align:left;">
RB
</td>
</tr>
<tr>
<td style="text-align:left;">
Colorless
</td>
<td style="text-align:left;">
green
</td>
<td style="text-align:left;">
ideas
</td>
<td style="text-align:left;">
sleep
</td>
<td style="text-align:left;">
furiously.
</td>
</tr>
</tbody>
</table>
<p>We have two adjectives (JJ), a plural noun (NNS), a verb (VBP), and an adverb (RB).</p>
<p>Common analysis may then be used to predict POS given the current state of the text, comparing the grammar of different texts, human-computer interaction, or translation from one language to another. In addition, using POS information would make for richer sentiment analysis as well.</p>
</div>
<div id="pos-examples" class="section level2">
<h2>POS Examples</h2>
<p>The following approach to POS-tagging is very similar to what we did for sentiment analysis as depicted previously. We have a POS dictionary, and can use an inner join to attach the words to their POS. Unfortunately, this approach is unrealistically simplistic, as additional steps would need to be taken to ensure words are correctly classified. For example, without more information, we are unable to tell if some words are being used as nouns or verbs (human being vs. being a problematic part of speech). However, this example can serve as a starting point.</p>
<div id="barthelme-carver" class="section level3">
<h3>Barthelme &amp; Carver</h3>
<p>In the following we’ll compare three texts from Donald Barthelme:</p>
<ul>
<li><em>The Balloon</em></li>
<li><em>The First Thing The Baby Did Wrong</em></li>
<li><em>Some Of Us Had Been Threatening Our Friend Colby</em></li>
</ul>
<p>As another comparison, I’ve included Raymond Carver’s <em>What we talk about when we talk about love</em>, the unedited version. First we’ll load an unnested object from the sentiment analysis, the <span class="objclass">barth</span> object. Then for each work we create a sentence id, unnest the data to words, join the POS data, then create counts/proportions for each POS.</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb94-1" data-line-number="1"><span class="kw">load</span>(<span class="st">&#39;data/barth_sentences.RData&#39;</span>)</a>
<a class="sourceLine" id="cb94-2" data-line-number="2">barthelme_pos =<span class="st"> </span>barth <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb94-3" data-line-number="3"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">work =</span> <span class="kw">str_replace</span>(work, <span class="st">&#39;.txt&#39;</span>, <span class="st">&#39;&#39;</span>)) <span class="op">%&gt;%</span><span class="st">  </span><span class="co"># remove file extension</span></a>
<a class="sourceLine" id="cb94-4" data-line-number="4"><span class="st">  </span><span class="kw">group_by</span>(work) <span class="op">%&gt;%</span><span class="st">                              </span></a>
<a class="sourceLine" id="cb94-5" data-line-number="5"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">sentence_id =</span> <span class="dv">1</span><span class="op">:</span><span class="kw">n</span>()) <span class="op">%&gt;%</span><span class="st">                   </span><span class="co"># create a sentence id</span></a>
<a class="sourceLine" id="cb94-6" data-line-number="6"><span class="st">  </span><span class="kw">unnest_tokens</span>(word, sentence, <span class="dt">drop=</span>F) <span class="op">%&gt;%</span><span class="st">         </span><span class="co"># get words</span></a>
<a class="sourceLine" id="cb94-7" data-line-number="7"><span class="st">  </span><span class="kw">inner_join</span>(parts_of_speech) <span class="op">%&gt;%</span><span class="st">                   </span><span class="co"># join POS</span></a>
<a class="sourceLine" id="cb94-8" data-line-number="8"><span class="st">  </span><span class="kw">count</span>(pos) <span class="op">%&gt;%</span><span class="st">                                    </span><span class="co"># count</span></a>
<a class="sourceLine" id="cb94-9" data-line-number="9"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">prop=</span>n<span class="op">/</span><span class="kw">sum</span>(n))</a></code></pre></div>
<p>Next we read in and process the Carver text in the same manner.</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb95-1" data-line-number="1">carver_pos =<span class="st"> </span></a>
<a class="sourceLine" id="cb95-2" data-line-number="2"><span class="st">  </span><span class="kw">data_frame</span>(<span class="dt">file =</span> <span class="kw">dir</span>(<span class="st">&#39;data/texts_raw/carver/&#39;</span>, <span class="dt">full.names =</span> <span class="ot">TRUE</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb95-3" data-line-number="3"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">text =</span> <span class="kw">map</span>(file, read_lines)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb95-4" data-line-number="4"><span class="st">  </span><span class="kw">transmute</span>(<span class="dt">work =</span> <span class="kw">basename</span>(file), text) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb95-5" data-line-number="5"><span class="st">  </span><span class="kw">unnest</span>(text) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb95-6" data-line-number="6"><span class="st">  </span><span class="kw">unnest_tokens</span>(word, text, <span class="dt">token=</span><span class="st">&#39;words&#39;</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb95-7" data-line-number="7"><span class="st">  </span><span class="kw">inner_join</span>(parts_of_speech) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb95-8" data-line-number="8"><span class="st">  </span><span class="kw">count</span>(pos) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb95-9" data-line-number="9"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">work=</span><span class="st">&#39;love&#39;</span>,</a>
<a class="sourceLine" id="cb95-10" data-line-number="10">         <span class="dt">prop=</span>n<span class="op">/</span><span class="kw">sum</span>(n))</a></code></pre></div>
<p>This visualization depicts the proportion of occurrence for each part of speech across the works. It would appear Barthelme is fairly consistent, and also that relative to the Barthelme texts, Carver preferred nouns and pronouns.</p>
<div id="54522e65dbd8" style="width:672px;height:600px;" class="plotly html-widget"></div>
<script type="application/json" data-for="54522e65dbd8">{"x":{"visdat":{"54526eddf68d":["function () ","plotlyVisDat"],"5452214459b4":["function () ","data"]},"cur_data":"5452214459b4","attrs":{"54526eddf68d":{"alpha":1,"sizes":[10,100],"x":{},"y":{},"type":"scatter","mode":"markers","color":["gray50"],"opacity":0.5,"size":[20],"name":"love"},"5452214459b4":{"alpha":1,"sizes":[10,100],"x":{},"y":{},"type":"scatter","mode":"markers","color":{},"size":[10]}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"zeroline":false,"showgrid":false,"title":false,"type":"category","categoryorder":"array","categoryarray":["Adjective","Adverb","Conjunction","Definite Article","Interjection","Noun","Plural","Preposition","Pronoun","Verb (intransitive)","Verb (transitive)","Verb (usu participle)"]},"yaxis":{"domain":[0,1],"zeroline":false,"showgrid":false,"title":"prop"},"plot_bgcolor":"transparent","paper_bgcolor":"transparent","hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false,"displayModeBar":false},"data":[{"x":["Adjective","Adverb","Conjunction","Definite Article","Interjection","Noun","Plural","Preposition","Pronoun","Verb (intransitive)","Verb (transitive)","Verb (usu participle)"],"y":[0.0725248859902908,0.130289805325357,0.0437404991908988,0.0703672828911882,0.0269210023047124,0.294463786593439,0.00264796743980778,0.0739469425783357,0.08674545187074,0.0354533418329819,0.0523218751532389,0.107193644878144],"type":"scatter","mode":"markers","opacity":0.5,"name":"love","marker":{"size":20,"sizemode":"area","fillcolor":"rgba(127,127,127,1)","color":"rgba(127,127,127,1)","line":{"color":"transparent"}},"xaxis":"x","yaxis":"y","frame":null},{"x":["Adjective","Adverb","Conjunction","Definite Article","Interjection","Noun","Plural","Preposition","Pronoun","Verb (intransitive)","Verb (transitive)","Verb (usu participle)"],"y":[0.0735129068462402,0.131313131313131,0.0521885521885522,0.0864197530864197,0.021324354657688,0.270482603815937,0.00505050505050505,0.0937149270482604,0.0673400673400673,0.0387205387205387,0.0510662177328844,0.102693602693603],"type":"scatter","mode":"markers","name":"baby","marker":{"size":10,"sizemode":"area","fillcolor":"rgba(102,194,165,0.5)","color":"rgba(102,194,165,1)","line":{"color":"transparent"}},"xaxis":"x","yaxis":"y","frame":null},{"x":["Adjective","Adverb","Conjunction","Definite Article","Interjection","Noun","Plural","Preposition","Pronoun","Verb (intransitive)","Verb (transitive)","Verb (usu participle)"],"y":[0.0806406293902782,0.147794324248384,0.047766226468109,0.0932846305141894,0.0160157347569542,0.25962348974431,0.00337173363304299,0.0944085417252037,0.0449564484405732,0.03765102556898,0.0547906715369486,0.106771565046361],"type":"scatter","mode":"markers","name":"balloon","marker":{"size":10,"sizemode":"area","fillcolor":"rgba(252,141,98,0.5)","color":"rgba(252,141,98,1)","line":{"color":"transparent"}},"xaxis":"x","yaxis":"y","frame":null},{"x":["Adjective","Adverb","Conjunction","Definite Article","Interjection","Noun","Plural","Preposition","Pronoun","Verb (intransitive)","Verb (transitive)","Verb (usu participle)"],"y":[0.0802325581395349,0.142732558139535,0.0511627906976744,0.0776162790697674,0.0299418604651163,0.271511627906977,0.00174418604651163,0.0761627906976744,0.0686046511627907,0.0296511627906977,0.0476744186046512,0.113953488372093],"type":"scatter","mode":"markers","name":"colby","marker":{"size":10,"sizemode":"area","fillcolor":"rgba(141,160,203,0.5)","color":"rgba(141,160,203,1)","line":{"color":"transparent"}},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1}},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":{"render":[{"code":"function(el, x) { var ctConfig = crosstalk.var('plotlyCrosstalkOpts').set({\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1}}); }","data":null}]}}</script>
<p><br></p>
</div>
<div id="more-taggin" class="section level3">
<h3>More taggin’</h3>
<p>More sophisticated POS tagging would require the context of the sentence structure. Luckily there are tools to help with that here, in particular via the <span class="pack">openNLP</span> package. In addition, it will require a certain language model to be installed (English is only one of many available). I don’t recommend doing so unless you are really interested in this (the <span class="pack">openNLPmodels.en</span> package is fairly large).</p>
<p>We’ll reexamine the Barthelme texts above with this more involved approach. Initially we’ll need to get the English-based tagger we need and load the libraries.</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb96-1" data-line-number="1"><span class="co"># install.packages(&quot;openNLPmodels.en&quot;, repos = &quot;http://datacube.wu.ac.at/&quot;, type = &quot;source&quot;)</span></a>
<a class="sourceLine" id="cb96-2" data-line-number="2"></a>
<a class="sourceLine" id="cb96-3" data-line-number="3"><span class="kw">library</span>(NLP)</a>
<a class="sourceLine" id="cb96-4" data-line-number="4"><span class="kw">library</span>(tm)  <span class="co"># make sure to load this prior to openNLP</span></a>
<a class="sourceLine" id="cb96-5" data-line-number="5"><span class="kw">library</span>(openNLP)</a>
<a class="sourceLine" id="cb96-6" data-line-number="6"><span class="kw">library</span>(openNLPmodels.en)</a></code></pre></div>
<p>Next comes the processing. This more or less follows the help file example for <code>?Maxent_POS_Tag_Annotator</code>. Given the several steps involved I show only the processing for one text for clarity. Ideally you’d write a function, and use a <span class="func">group_by</span> approach, to process each of the texts of interest.</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb97-1" data-line-number="1"><span class="kw">load</span>(<span class="st">&#39;data/barthelme_start.RData&#39;</span>)</a>
<a class="sourceLine" id="cb97-2" data-line-number="2"></a>
<a class="sourceLine" id="cb97-3" data-line-number="3">baby_string0 =<span class="st"> </span>barth0 <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb97-4" data-line-number="4"><span class="st">  </span><span class="kw">filter</span>(id<span class="op">==</span><span class="st">&#39;baby.txt&#39;</span>)</a>
<a class="sourceLine" id="cb97-5" data-line-number="5"></a>
<a class="sourceLine" id="cb97-6" data-line-number="6">baby_string =<span class="st"> </span><span class="kw">unlist</span>(baby_string0<span class="op">$</span>text) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb97-7" data-line-number="7"><span class="st">  </span><span class="kw">paste</span>(<span class="dt">collapse=</span><span class="st">&#39; &#39;</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb97-8" data-line-number="8"><span class="st">  </span>as.String</a>
<a class="sourceLine" id="cb97-9" data-line-number="9"></a>
<a class="sourceLine" id="cb97-10" data-line-number="10">init_s_w =<span class="st"> </span><span class="kw">annotate</span>(baby_string, <span class="kw">list</span>(<span class="kw">Maxent_Sent_Token_Annotator</span>(),</a>
<a class="sourceLine" id="cb97-11" data-line-number="11">                                      <span class="kw">Maxent_Word_Token_Annotator</span>()))</a>
<a class="sourceLine" id="cb97-12" data-line-number="12">pos_res =<span class="st"> </span><span class="kw">annotate</span>(baby_string, <span class="kw">Maxent_POS_Tag_Annotator</span>(), init_s_w)</a>
<a class="sourceLine" id="cb97-13" data-line-number="13">word_subset =<span class="st"> </span><span class="kw">subset</span>(pos_res, type<span class="op">==</span><span class="st">&#39;word&#39;</span>)</a>
<a class="sourceLine" id="cb97-14" data-line-number="14">tags =<span class="st"> </span><span class="kw">sapply</span>(word_subset<span class="op">$</span>features , <span class="st">&#39;[[&#39;</span>, <span class="st">&quot;POS&quot;</span>)</a>
<a class="sourceLine" id="cb97-15" data-line-number="15"></a>
<a class="sourceLine" id="cb97-16" data-line-number="16">baby_pos =<span class="st"> </span><span class="kw">data_frame</span>(<span class="dt">word=</span>baby_string[word_subset], <span class="dt">pos=</span>tags) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb97-17" data-line-number="17"><span class="st">  </span><span class="kw">filter</span>(<span class="op">!</span><span class="kw">str_detect</span>(pos, <span class="dt">pattern=</span><span class="st">&#39;[[:punct:]]&#39;</span>))</a></code></pre></div>
<p>Let’s take a look. I’ve also done the other Barthelme texts as well for comparison.</p>
<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
word
</th>
<th style="text-align:left;">
pos
</th>
<th style="text-align:left;">
text
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
The
</td>
<td style="text-align:left;">
DT
</td>
<td style="text-align:left;">
baby
</td>
</tr>
<tr>
<td style="text-align:left;">
first
</td>
<td style="text-align:left;">
JJ
</td>
<td style="text-align:left;">
baby
</td>
</tr>
<tr>
<td style="text-align:left;">
thing
</td>
<td style="text-align:left;">
NN
</td>
<td style="text-align:left;">
baby
</td>
</tr>
<tr>
<td style="text-align:left;">
the
</td>
<td style="text-align:left;">
DT
</td>
<td style="text-align:left;">
baby
</td>
</tr>
<tr>
<td style="text-align:left;">
baby
</td>
<td style="text-align:left;">
NN
</td>
<td style="text-align:left;">
baby
</td>
</tr>
<tr>
<td style="text-align:left;">
did
</td>
<td style="text-align:left;">
VBD
</td>
<td style="text-align:left;">
baby
</td>
</tr>
<tr>
<td style="text-align:left;">
wrong
</td>
<td style="text-align:left;">
JJ
</td>
<td style="text-align:left;">
baby
</td>
</tr>
<tr>
<td style="text-align:left;">
was
</td>
<td style="text-align:left;">
VBD
</td>
<td style="text-align:left;">
baby
</td>
</tr>
<tr>
<td style="text-align:left;">
to
</td>
<td style="text-align:left;">
TO
</td>
<td style="text-align:left;">
baby
</td>
</tr>
<tr>
<td style="text-align:left;">
tear
</td>
<td style="text-align:left;">
VB
</td>
<td style="text-align:left;">
baby
</td>
</tr>
<tr>
<td style="text-align:left;">
pages
</td>
<td style="text-align:left;">
NNS
</td>
<td style="text-align:left;">
baby
</td>
</tr>
<tr>
<td style="text-align:left;">
out
</td>
<td style="text-align:left;">
IN
</td>
<td style="text-align:left;">
baby
</td>
</tr>
<tr>
<td style="text-align:left;">
of
</td>
<td style="text-align:left;">
IN
</td>
<td style="text-align:left;">
baby
</td>
</tr>
<tr>
<td style="text-align:left;">
her
</td>
<td style="text-align:left;">
PRP$
</td>
<td style="text-align:left;">
baby
</td>
</tr>
<tr>
<td style="text-align:left;">
books
</td>
<td style="text-align:left;">
NNS
</td>
<td style="text-align:left;">
baby
</td>
</tr>
</tbody>
</table>
<p>As we can see, we have quite a few more POS to deal with here. They come from the <a href="https://en.wikipedia.org/wiki/Treebank">Penn Treebank</a>. The following table notes what the acronyms stand for. I don’t pretend to know all the facets to this.</p>
<p><img src="img/POS-Tags.png" style="display:block; margin: 0 auto;"></p>
<p>Plotting the differences, we now see a little more distinction between <em>The Balloon</em> and the other two texts. It is more likely to use the determiners, adjectives, singular nouns, and less likely to use personal pronouns and verbs (including past tense).</p>
<div id="5452c122c9f" style="width:800px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="5452c122c9f">{"x":{"visdat":{"5452555df73a":["function () ","plotlyVisDat"],"54527d2f80e9":["function () ","data"]},"cur_data":"54527d2f80e9","attrs":{"5452555df73a":{"alpha":1,"sizes":[10,100],"x":{},"y":{},"type":"scatter","mode":"markers","color":{}},"54527d2f80e9":{"alpha":1,"sizes":[10,100],"x":{},"y":{},"type":"scatter","mode":"markers","color":{},"size":[15],"opacity":0.5,"showlegend":false}},"layout":{"width":800,"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"zeroline":false,"showgrid":true,"gridcolor":"#0000000D","title":false,"type":"category","categoryorder":"array","categoryarray":["CC","CD","DT","EX","FW","IN","JJ","JJR","JJS","MD","NN","NNP","NNPS","NNS","PDT","POS","PRP","PRP$","RB","RBR","RP","TO","VB","VBD","VBG","VBN","VBP","VBZ","WDT","WP","WP$","WRB"]},"yaxis":{"domain":[0,1],"zeroline":false,"showgrid":false,"title":"prop"},"plot_bgcolor":"transparent","paper_bgcolor":"transparent","hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false,"displayModeBar":false},"data":[{"x":["CC","CD","DT","EX","IN","JJ","JJR","JJS","MD","NN","NNP","NNS","POS","PRP","PRP$","RB","RBR","RP","TO","VB","VBD","VBG","VBN","VBP","VBZ","WDT","WP","WRB"],"y":[0.0538555691554468,0.0244798041615667,0.0930232558139535,0.00367197062423501,0.133414932680539,0.0477356181150551,0.00122399020807834,0.00244798041615667,0.02203182374541,0.11750305997552,0.00611995104039168,0.0575275397796818,0.00122399020807834,0.0905752753977968,0.0232558139534884,0.0611995104039168,0.00367197062423501,0.01468788249694,0.0354957160342717,0.0477356181150551,0.0905752753977968,0.025703794369645,0.0159118727050184,0.00611995104039168,0.00122399020807834,0.00979192166462668,0.00122399020807834,0.00856793145654835],"type":"scatter","mode":"markers","name":"baby","marker":{"fillcolor":"rgba(102,194,165,0.5)","color":"rgba(102,194,165,1)","line":{"color":"transparent"}},"xaxis":"x","yaxis":"y","frame":null},{"x":["CC","CD","DT","EX","IN","JJ","JJR","JJS","MD","NN","NNP","NNPS","NNS","PDT","POS","PRP","PRP$","RB","RBR","RP","TO","VB","VBD","VBG","VBN","VBP","VBZ","WDT","WP","WP$","WRB"],"y":[0.0379603399433428,0.00623229461756374,0.13314447592068,0.00453257790368272,0.145042492917847,0.0798866855524079,0.00226628895184136,0.00339943342776204,0.0135977337110482,0.169405099150142,0.0175637393767705,0.00113314447592068,0.0594900849858357,0.00113314447592068,0.00226628895184136,0.0351274787535411,0.0107648725212465,0.0645892351274788,0.00056657223796034,0.00113314447592068,0.0237960339943343,0.030028328611898,0.0640226628895184,0.0237960339943343,0.0368271954674221,0.00623229461756374,0.0113314447592068,0.0056657223796034,0.00339943342776204,0.00113314447592068,0.00453257790368272],"type":"scatter","mode":"markers","name":"balloon","marker":{"fillcolor":"rgba(252,141,98,0.5)","color":"rgba(252,141,98,1)","line":{"color":"transparent"}},"xaxis":"x","yaxis":"y","frame":null},{"x":["CC","CD","DT","EX","FW","IN","JJ","JJR","JJS","MD","NN","NNP","NNS","PDT","POS","PRP","PRP$","RB","RBR","RP","TO","VB","VBD","VBG","VBN","VBP","VBZ","WDT","WP","WRB"],"y":[0.0404101326899879,0.0060313630880579,0.0989143546441496,0.00120627261761158,0.00120627261761158,0.128468033775633,0.0512665862484922,0.00180940892641737,0.00120627261761158,0.0337756332931242,0.129071170084439,0.0428226779252111,0.0301568154402895,0.00060313630880579,0.00241254523522316,0.0826296743063932,0.00663449939686369,0.0856453558504222,0.00120627261761158,0.00844390832328106,0.0247285886610374,0.0542822677925211,0.094692400482509,0.0199034981905911,0.025934861278649,0.00422195416164053,0.00482509047044632,0.00301568154402895,0.0102533172496984,0.00422195416164053],"type":"scatter","mode":"markers","name":"colby","marker":{"fillcolor":"rgba(141,160,203,0.5)","color":"rgba(141,160,203,1)","line":{"color":"transparent"}},"xaxis":"x","yaxis":"y","frame":null},{"x":["DT","JJ","NN","PRP","VB","VBD"],"y":[0.13314447592068,0.0798866855524079,0.169405099150142,0.0351274787535411,0.030028328611898,0.0640226628895184],"type":"scatter","mode":"markers","opacity":0.5,"showlegend":false,"name":"balloon","marker":{"size":15,"sizemode":"area","fillcolor":"rgba(252,141,98,0.5)","color":"rgba(252,141,98,1)","line":{"color":"transparent"}},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1}},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":{"render":[{"code":"function(el, x) { var ctConfig = crosstalk.var('plotlyCrosstalkOpts').set({\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1}}); }","data":null}]}}</script>
<p><br></p>
</div>
</div>
<div id="tagging-summary" class="section level2">
<h2>Tagging summary</h2>
<p>For more information, consult the following:</p>
<ul>
<li><a href="http://repository.upenn.edu/cgi/viewcontent.cgi?article=1603&amp;context=cis_reports">Penn Treebank</a></li>
<li><a href="http://maxent.sourceforge.net/about.html">Maxent function</a></li>
</ul>
<p>As with the sentiment analysis demos, the above should be seen only starting point for getting a sense of what you’re dealing with. The ‘maximum entropy’ approach is just one way to go about things. Other models include hidden Markov models, conditional random fields, and more recently, deep learning techniques. Goals might include text prediction (i.e. the thing your phone always gets wrong), translation, and more.</p>
</div>
<div id="pos-exercise" class="section level2">
<h2>POS Exercise</h2>
<p>As this is a more involved sort of analysis, if nothing else in terms of the tools required, as an exercise I would suggest starting with a cleaned text, and seeing if the above code in the last example can get you to the result of having parsed text. Otherwise, assuming you’ve downloaded the appropriate packages, feel free to play around with some strings of your choosing as follows.</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb98-1" data-line-number="1">string =<span class="st"> &#39;Colorless green ideas sleep furiously&#39;</span> </a>
<a class="sourceLine" id="cb98-2" data-line-number="2"></a>
<a class="sourceLine" id="cb98-3" data-line-number="3">initial_result =<span class="st"> </span>string <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb98-4" data-line-number="4"><span class="st">  </span><span class="kw">annotate</span>(<span class="kw">list</span>(<span class="kw">Maxent_Sent_Token_Annotator</span>(),</a>
<a class="sourceLine" id="cb98-5" data-line-number="5">                <span class="kw">Maxent_Word_Token_Annotator</span>())) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb98-6" data-line-number="6"><span class="st">  </span><span class="kw">annotate</span>(string, <span class="kw">Maxent_POS_Tag_Annotator</span>(), .) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb98-7" data-line-number="7"><span class="st">  </span><span class="kw">subset</span>(type<span class="op">==</span><span class="st">&#39;word&#39;</span>) </a>
<a class="sourceLine" id="cb98-8" data-line-number="8"></a>
<a class="sourceLine" id="cb98-9" data-line-number="9"><span class="kw">sapply</span>(initial_result<span class="op">$</span>features , <span class="st">&#39;[[&#39;</span>, <span class="st">&quot;POS&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span>table</a></code></pre></div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="sentiment-analysis.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="topic-modeling.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["twitter", "facebook", "google", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"download": null,
"toc": {
"collapse": "section",
"depth": 2,
"scroll_highlight": true
},
"df_print": "kable",
"highlight": "pygments",
"search": true
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
